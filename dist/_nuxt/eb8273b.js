(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{497:function(t,e,n){var content=n(586);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(6).default)("5a284427",content,!0,{sourceMap:!1})},585:function(t,e,n){"use strict";n(497)},586:function(t,e,n){(e=n(5)(!1)).push([t.i,".page-title[data-v-2896f701]{margin-bottom:0}.page-section[data-v-2896f701]{padding:20px}.uk-grid[data-v-2896f701]{padding-bottom:20px}section[data-v-2896f701]{margin-bottom:20px}section[data-v-2896f701]:last-child{margin-bottom:0}.privacy-settings form[data-v-2896f701]{max-width:400px}.social-media-links table[data-v-2896f701]{min-width:400px}.social-media-links table tr>td[data-v-2896f701]:first-child{width:20px}.social-media-links input[type=text][data-v-2896f701]{width:100%}",""]),t.exports=e},747:function(t,e,n){"use strict";n.r(e);var r={data:function(){return{error:null,currentPassword:"",newPassword:"",confirmNewPassword:"",savedNotification:!1}},methods:{submitForm:function(){var t=this;if(this.error=null,this.newPassword===this.confirmNewPassword){var data={current_password:this.currentPassword,new_password:this.newPassword,confirm_new_password:this.confirmNewPassword};this.$axios.post("/user/change-password",data).then((function(e){t.savedNotification=!0;var ins=t;setTimeout((function(){ins.savedNotification=!1}),3500)})).catch((function(e){e.response?t.error=e.response.data+".":t.error="Client error"}))}else this.error="Your new passwords don't match!"}}},o=n(2),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"change-password"},[t._m(0),t._v(" "),null!=t.error?n("p",{staticClass:"uk-p uk-p-red"},[t._v(t._s(t.error))]):t._e(),t._v(" "),t.savedNotification?n("p",{staticClass:"uk-p uk-p-green"},[t._v("Your password has been changed successfully.")]):t._e(),t._v(" "),n("form",[n("fieldset",{staticClass:"uk-fieldset"},[n("div",{staticClass:"uk-margin-s"},[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.currentPassword,expression:"currentPassword"}],staticClass:"uk-input uk-form-small",attrs:{type:"password",placeholder:"Current Password",name:"current-password"},domProps:{value:t.currentPassword},on:{input:function(e){e.target.composing||(t.currentPassword=e.target.value)}}})])]),t._v(" "),n("div",{staticClass:"uk-margin-s"},[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.newPassword,expression:"newPassword"}],staticClass:"uk-input uk-form-small",attrs:{type:"password",placeholder:"New Password",name:"new-password"},domProps:{value:t.newPassword},on:{input:function(e){e.target.composing||(t.newPassword=e.target.value)}}})])]),t._v(" "),n("div",{staticClass:"uk-margin-s"},[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.confirmNewPassword,expression:"confirmNewPassword"}],staticClass:"uk-input uk-form-small",attrs:{type:"password",placeholder:"Confirm New Password",name:"confirm-new-password"},domProps:{value:t.confirmNewPassword},on:{input:function(e){e.target.composing||(t.confirmNewPassword=e.target.value)}}})])])]),t._v(" "),n("button",{staticClass:"uk-button uk-btn-blue uk-margin-s",attrs:{type:"submit"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.submitForm()}}},[t._v("Change Password")])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"page-title uk-block uk-width-100 uk-text-center"},[e("i",{staticClass:"fas fa-lock"}),this._v("\n\t\tChange Password\n\t")])}],!1,null,null,null);e.default=component.exports},791:function(t,e,n){"use strict";n.r(e);n(43),n(51),n(21);var r=n(3),o={head:function(){return{title:"Account Settings"}},asyncData:function(t){return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.$axios,e.next=3,n.get("/user/settings").then((function(t){if(200===t.status){var data=t.data;return data.settings=t.data.settings,data.originalSettings=t.data.settings,data.socialLinks=t.data.social_links,data}return{}})).catch((function(t){return{}}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))()},data:function(){return{settings:null,originalSettings:null,socialLinks:null,changedFields:[],errorFields:[],savedNotification:!1}},methods:{commitSetting:function(t){var e=this,data={};data[t]=this.settings[t],this.$axios.post("/user/settings/update",data).then((function(n){200===n.status?e.originalSettings[t]=e.settings[t]:e.settings[t]=e.originalSettings[t]})).catch((function(n){e.settings[t]=e.originalSettings[t]}))},fieldChanged:function(t){this.changedFields.includes(t)||this.changedFields.push(t)},saveFields:function(){for(var t=this,e={},i=0;i<this.changedFields.length;i++){var n=this.changedFields[i];e[n]=this.socialLinks[n]}this.changedFields=[],this.$axios.post("/user/settings/update",{social_links:e}).then((function(e){t.savedNotification=!0;var ins=t;setTimeout((function(){ins.savedNotification=!1}),3500)})).catch((function(e){if(e.response){var n=e.response;if(n.data&&n.data.social_links)for(var r in n.data.social_links)t.changedFields.push(r),t.errorFields.push(r)}}))}},computed:{anyFieldsChanged:function(){return this.changedFields.length>0},fieldHasError:function(){var ins=this;return function(t){return ins.errorFields.includes(t)}}}},l=(n(585),n(2)),component=Object(l.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"uk-container uk-margin"},[null!=t.settings?n("div",{staticClass:"uk-grid"},[n("div",{staticClass:"uk-width-2-3@m"},[n("div",{staticClass:"page-section"},[t._m(0),t._v(" "),n("hr"),t._v(" "),n("section",{staticClass:"privacy-settings"},[n("span",{staticClass:"page-title small"},[t._v("Privacy settings")]),t._v(" "),n("form",{staticClass:"uk-margin-s"},[n("fieldset",{staticClass:"uk-fieldset"},[n("div",[n("label",[t._v("\n\t\t\t\t\t\t\t\t\t\tWho can see your online presence?\n\n\t\t\t\t\t\t\t\t\t\t"),n("select",{directives:[{name:"model",rawName:"v-model",value:t.settings.presence_visibility,expression:"settings['presence_visibility']"}],staticClass:"uk-select uk-form-small",on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.settings,"presence_visibility",e.target.multiple?n:n[0])},function(e){return t.commitSetting("presence_visibility")}]}},[n("option",{attrs:{value:"EVERYONE"}},[t._v("Everyone")]),t._v(" "),n("option",{attrs:{value:"FRIENDS"}},[t._v("Friends Only")]),t._v(" "),n("option",{attrs:{value:"NOBODY"}},[t._v("Nobody")])])])]),t._v(" "),n("div",{staticClass:"uk-margin-s"},[n("label",[t._v("\n\t\t\t\t\t\t\t\t\t\tWho can send you friend requests?\n\n\t\t\t\t\t\t\t\t\t\t"),n("select",{directives:[{name:"model",rawName:"v-model",value:t.settings.friend_requests,expression:"settings['friend_requests']"}],staticClass:"uk-select uk-form-small",on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.settings,"friend_requests",e.target.multiple?n:n[0])},function(e){return t.commitSetting("friend_requests")}]}},[n("option",{attrs:{value:"ALLOW"}},[t._v("Everyone")]),t._v(" "),n("option",{attrs:{value:"DENY"}},[t._v("Nobody")])])])]),t._v(" "),n("div",{staticClass:"uk-margin-s"},[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.settings.receive_emails,expression:"settings['receive_emails']"}],staticClass:"uk-checkbox",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.settings.receive_emails)?t._i(t.settings.receive_emails,null)>-1:t.settings.receive_emails},on:{change:[function(e){var n=t.settings.receive_emails,r=e.target,o=!!r.checked;if(Array.isArray(n)){var l=t._i(n,null);r.checked?l<0&&t.$set(t.settings,"receive_emails",n.concat([null])):l>-1&&t.$set(t.settings,"receive_emails",n.slice(0,l).concat(n.slice(l+1)))}else t.$set(t.settings,"receive_emails",o)},function(e){return t.commitSetting("receive_emails")}]}}),t._v("\n\t\t\t\t\t\t\t\t\t\tReceive emails for site notifications\n\t\t\t\t\t\t\t\t\t")])])])])]),t._v(" "),n("hr"),t._v(" "),n("section",{staticClass:"social-media-links"},[n("span",{staticClass:"page-title small"},[t._v("Social media links")]),t._v(" "),t.savedNotification?n("p",{staticClass:"uk-p uk-p-green uk-margin-s"},[t._v("Your social media links have been updated successfully.")]):t._e(),t._v(" "),n("form",{staticClass:"uk-margin-s"},[n("fieldset",{staticClass:"uk-fieldset"},[n("table",[n("tbody",[n("tr",[t._m(1),t._v(" "),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.socialLinks.twitter,expression:"socialLinks['twitter']"}],staticClass:"uk-input uk-form-small",class:{"uk-form-danger":t.fieldHasError("twitter")},attrs:{type:"text",placeholder:"Twitter Profile"},domProps:{value:t.socialLinks.twitter},on:{input:[function(e){e.target.composing||t.$set(t.socialLinks,"twitter",e.target.value)},function(e){return t.fieldChanged("twitter")}]}})])]),t._v(" "),n("tr",[t._m(2),t._v(" "),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.socialLinks.youtube,expression:"socialLinks['youtube']"}],staticClass:"uk-input uk-form-small",class:{"uk-form-danger":t.fieldHasError("youtube")},attrs:{type:"text",placeholder:"YouTube Channel"},domProps:{value:t.socialLinks.youtube},on:{input:[function(e){e.target.composing||t.$set(t.socialLinks,"youtube",e.target.value)},function(e){return t.fieldChanged("youtube")}]}})])]),t._v(" "),n("tr",[t._m(3),t._v(" "),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.socialLinks.twitch,expression:"socialLinks['twitch']"}],staticClass:"uk-input uk-form-small",class:{"uk-form-danger":t.fieldHasError("twitch")},attrs:{type:"text",placeholder:"Twitch Channel"},domProps:{value:t.socialLinks.twitch},on:{input:[function(e){e.target.composing||t.$set(t.socialLinks,"twitch",e.target.value)},function(e){return t.fieldChanged("twitch")}]}})])]),t._v(" "),n("tr",[t._m(4),t._v(" "),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.socialLinks.discord,expression:"socialLinks['discord']"}],staticClass:"uk-input uk-form-small",class:{"uk-form-danger":t.fieldHasError("discord")},attrs:{type:"text",placeholder:"Discord Username"},domProps:{value:t.socialLinks.discord},on:{input:[function(e){e.target.composing||t.$set(t.socialLinks,"discord",e.target.value)},function(e){return t.fieldChanged("discord")}]}})])]),t._v(" "),n("tr",[t._m(5),t._v(" "),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.socialLinks.telegram,expression:"socialLinks['telegram']"}],staticClass:"uk-input uk-form-small",class:{"uk-form-danger":t.fieldHasError("telegram")},attrs:{type:"text",placeholder:"Telegram Link"},domProps:{value:t.socialLinks.telegram},on:{input:[function(e){e.target.composing||t.$set(t.socialLinks,"telegram",e.target.value)},function(e){return t.fieldChanged("telegram")}]}})])]),t._v(" "),n("tr",[t._m(6),t._v(" "),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.socialLinks.reddit,expression:"socialLinks['reddit']"}],staticClass:"uk-input uk-form-small",class:{"uk-form-danger":t.fieldHasError("reddit")},attrs:{type:"text",placeholder:"Reddit Profile"},domProps:{value:t.socialLinks.reddit},on:{input:[function(e){e.target.composing||t.$set(t.socialLinks,"reddit",e.target.value)},function(e){return t.fieldChanged("reddit")}]}})])]),t._v(" "),n("tr",[t._m(7),t._v(" "),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.socialLinks.github,expression:"socialLinks['github']"}],staticClass:"uk-input uk-form-small",class:{"uk-form-danger":t.fieldHasError("github")},attrs:{type:"text",placeholder:"GitHub Profile"},domProps:{value:t.socialLinks.github},on:{input:[function(e){e.target.composing||t.$set(t.socialLinks,"github",e.target.value)},function(e){return t.fieldChanged("github")}]}})])])])])]),t._v(" "),n("button",{staticClass:"uk-button uk-btn-green uk-margin-s",attrs:{type:"submit",disabled:!t.anyFieldsChanged},on:{click:function(e){return t.saveFields()}}},[t._v("Save Changes")])])])])]),t._v(" "),n("div",{staticClass:"uk-width-1-3@m"},[n("div",{staticClass:"page-section"},[n("ChangePasswordForm")],1)])]):n("div",{staticClass:"page-section"},[t._m(8)])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"page-title uk-block uk-width-100 uk-text-center"},[e("i",{staticClass:"fas fa-cogs"}),this._v("\n\t\t\t\t\t\tAccount Settings\n\t\t\t\t\t")])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",[e("i",{staticClass:"fab fa-twitter"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",[e("i",{staticClass:"fab fa-youtube"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",[e("i",{staticClass:"fab fa-twitch"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",[e("i",{staticClass:"fab fa-discord"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",[e("i",{staticClass:"fab fa-telegram"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",[e("i",{staticClass:"fab fa-reddit"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",[e("i",{staticClass:"fab fa-github"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"uk-block uk-width-100 uk-text-center"},[e("div",{attrs:{"uk-spinner":""}})])}],!1,null,"2896f701",null);e.default=component.exports;installComponents(component,{ChangePasswordForm:n(747).default})}}]);